<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 引入CSS文件-->
    <link rel="stylesheet" href="./CSS/Fonts.css">
    <link rel="stylesheet" href="./CSS/KnowledgeGraph.css"></link> 
</head>

<body>
        <h1>Knowledge Graph(JSON)</h1>
        <!-- 2.1.1.查询 -->
        <div id="query-container">
            <input type="text" id="query-input" placeholder="不区分大小写 逗号分割">
            <button id="query-button">查询</button>
        <!-- 2.1.2 增加 -->
            <button id="add-layer-button">增加</button>
        <!-- 2.1.3 刷新 -->
            <button id="refresh-button">刷新</button>
        <!-- 2.1.4 单显 -->
            <button id="show-query-label">
                单显
                <input type="checkbox" id="isolate-checkbox-dx">
            </button>
        <!-- 2.1.5 层显 -->
            <button id="show-layer-button">
                层显
                <input type="checkbox" id="isolate-checkbox-cx">
            </button>
        <!-- 2.1.6 筛选 -->
            <label for="top-node-count" id="top-node">筛选:</label>
            <input type="number" id="top-node-count" min="1" value="1">
        <!-- 2.1.7 保存 -->
            <select id="save-format">
                <option value="png">PNG</option>
                <option value="jpg">JPG</option>
            </select>
            <button id="save-button">保存</button>
        <!-- 2.1.8 上传 -->
            <button id="custom-file-upload">上传</button>
            <input type="file" id="file-upload" accept=".json">
            <span id="file-name-display">No file</span>
            <button id="update-button">更新</button>            
        </div>
        <!-- 2.1.8 显示图谱 -->
        <div id="graph-container"></div>
    
    <!-- 引入 JS 文件 -->
    <script src="./JS/Base/d3.min.js"></script>
    <script src="./JS/Base/FileSaver.min.js"></script>
    <script src="./JS/Base/html2canvas.min.js"></script>

    <!-- 自定义模块（按依赖顺序） -->
    <script src="./JS/globals.js"></script>
    <script src="./JS/graphCore.js"></script>
    <script src="./JS/graphInteraction.js"></script>
    <script src="./JS/dataManager.js"></script>
    <script src="./JS/graphExport.js"></script>
    <script src="./JS/eventBinder.js"></script>
    
    <!-- 初始化入口 -->
    <script>
    // 页面加载完成后初始化
    window.onload = function() {
        // 初始化图谱核心
        graphCore.init();
        // 加载本地数据并绘制
        dataManager.loadLocalData();
        // 绑定所有事件
        eventBinder.bindAllEvents();
    };
    </script>

</body>

</html>